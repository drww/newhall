This version of the Newhall Simulation Model (NSM) is a direct and enhanced port of the
Armand Wambeke GW-BASIC port. The simulation core is an effective 1:1 port of the original model,
behaving identically given the same dataset and assumptions. This edition goes further to incorporate
additional features, such as soil temperature calculations that models thermal lag behavior, along with
annual and summer water balances.

Some deviations from the original BASIC model have been made, primarily through the added
enhancements. The soil temperature and thermal lag calculations were ported from a partial C++ port
of the NSM. These calculations did not make assumptions on lag phases, and required them to be
manually specified for summer and winter. Because the datasets used do not cover enough geological
information to determine what the lag phase for a location is, we borrow from assumptions used in the
BASIC model for other calculations. For the spring, a lag phase of 21 days is assumed, while a lag
phase of 10 days is used for the fall.

Annual and Summer water balances were also added to the BASIC model. These water
balances are defined as the sum of precipitation minus the sum of evapotranspiration over a year for
one figure, and only three months of the summer for the other. AWB is the end total for the entire 12
month duration a dataset covers, while SWB will cover only the three summer months. The summer
months are conditional on the location of the dataset, whether it is in the northern or southern
hemisphere. “Summer” is considered July through August for the northern hemisphere, and December
through February in the southern hemisphere.

This version of the NSM supports the BASIC version's dataset and export formats, which are
CSV and FLX files (CSV input files detailed later in this document). In addition to these files are a
new XML file format. This format consists of three segments: metadata, input, and output. Metadata
is optional, input is required to process a dataset through the model, and output is generated by the
model. An exported XML file still retains the source data used to generate it, and can be opened within
the application to process it again. Upon exportation, the input segment of the file will remain mostly
unaltered (if you have changed the waterholding capacity, or soil-air relationship properties, these will
be changed). The output region will be overwritten. The metadata segment will remain unaltered. The
XML file format is detailed later in this document.

This version of NSM is built on top of the Java virtual machine. In order to run it, you must
have Java installed on your computer. If Java is installed on your computer, the JAR file should be
treated as an executable on your computer. If your computer does not recognize it as such, please
install Java, which can be obtained at: http://www.java.com Refer to “Java Setup” for more details.